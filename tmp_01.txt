import logging
import re

# Padrão Regex
pattern = re.compile('meu padrão aqui')

# Configuração do logging
logger = logging.getLogger()
handler = logging.StreamHandler()
handler.setLevel(logging.DEBUG)

# Aplicação do filtro regex usando uma função anônima
handler.addFilter(lambda record: re.match(pattern, record.getMessage()) is not None)

# Adicionando o handler ao logger
logger.addHandler(handler)
logger.setLevel(logging.DEBUG)

# Agora, apenas mensagens que correspondem ao padrão regex serão registradas
logger.debug('Esta mensagem será ignorada')
logger.debug('Esta mensagem corresponde ao meu padrão aqui')
